<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartCargo AIPA - Expert Advisory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-50 text-gray-800">

    <nav class="bg-slate-900 text-white p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 id="navTitle" class="text-xl font-bold tracking-tighter italic">SMARTCARGO AIPA</h1>
            <div class="flex space-x-2">
                <button onclick="changeLang('es')" class="text-[10px] border px-2 py-1 rounded hover:bg-white hover:text-black">ESPAÑOL</button>
                <button onclick="changeLang('en')" class="text-[10px] border px-2 py-1 rounded hover:bg-white hover:text-black">ENGLISH</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 max-w-5xl">
        <div class="bg-amber-50 border-l-4 border-amber-500 p-3 mb-6 rounded shadow-sm">
            <p id="legalText" class="text-[10px] text-amber-800 italic">
                <strong>AVISO:</strong> SmartCargo AIPA es un servicio de asesoría técnica informativa. No realizamos inspecciones físicas, traslados ni pesajes. La responsabilidad final es del expedidor/aerolínea.
            </p>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <section class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <h2 id="section1Title" class="font-bold text-blue-900 mb-4 border-b pb-2">AUDITORÍA DE RIESGO</h2>
                
                <form id="cargoForm" class="space-y-4">
                    <input type="text" name="awb" placeholder="AWB (Ej: 023-12345678)" class="w-full p-2 border rounded text-sm" required>
                    
                    <div class="grid grid-cols-3 gap-2">
                        <input type="number" name="length_cm" placeholder="Largo/L (cm)" class="p-2 border rounded text-xs" required>
                        <input type="number" name="width_cm" placeholder="Ancho/W (cm)" class="p-2 border rounded text-xs" required>
                        <input type="number" name="height_cm" placeholder="Alto/H (cm)" class="p-2 border rounded text-xs" required>
                    </div>

                    <div class="grid grid-cols-2 gap-2">
                        <input type="number" name="weight_declared" placeholder="Peso Real/Weight (kg)" class="p-2 border rounded text-xs" required>
                        <select name="dg_type" class="p-2 border rounded text-xs bg-gray-50">
                            <option value="NONE">Carga General</option>
                            <option value="DANGEROUS">Mercancía Peligrosa (DG)</option>
                            <option value="PERISHABLE">Perecederos</option>
                        </select>
                    </div>

                    <select name="ispm15_seal" class="w-full p-2 border rounded text-xs">
                        <option value="YES">Sello ISPM-15 Presente</option>
                        <option value="NO">SIN Sello ISPM-15 (Madera)</option>
                    </select>

                    <div class="bg-green-50 p-3 rounded-lg">
                        <label id="priceLabel" class="block text-[10px] font-bold text-green-700 mb-1 uppercase">Seleccione Nivel de Servicio:</label>
                        <select id="priceSelect" class="w-full p-2 border-green-200 border rounded text-sm font-bold text-green-800">
                            <option value="25">Paquete Pequeño/Courier - $25.00</option>
                            <option value="45">Carga Estándar/Paletizado - $45.00</option>
                            <option value="85">Carga Especial/DG/Animales - $85.00</option>
                        </select>
                    </div>

                    <button type="button" id="payBtn" class="w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition">PAGAR Y ACTIVAR VALIDACIÓN</button>
                    <button type="submit" id="valBtn" disabled class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold opacity-50 cursor-not-allowed">EJECUTAR AUDITORÍA TÉCNICA</button>
                </form>

                <div id="riskResult" class="mt-6 text-center hidden">
                    <div id="riskScore" class="text-4xl font-black mb-2">0%</div>
                    <div id="volData" class="text-[11px] text-gray-500 mb-2"></div>
                    <div id="riskAlerts" class="text-xs text-left text-red-600 space-y-1"></div>
                </div>
            </section>

            <section class="bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <h2 id="section2Title" class="font-bold text-blue-900 mb-4 border-b pb-2">CONSULTORÍA IA & VISIÓN</h2>
                <form id="advForm" class="space-y-4">
                    <textarea id="advPrompt" placeholder="Describa su duda o suba una foto del embalaje/etiquetas..." class="w-full p-3 border rounded-lg h-32 text-sm"></textarea>
                    
                    <label class="flex items-center justify-center border-2 border-dashed p-4 rounded-lg cursor-pointer hover:bg-gray-50">
                        <i class="fa-solid fa-camera mr-2 text-blue-600"></i>
                        <span id="photoLabel" class="text-xs">Subir foto de la carga</span>
                        <input type="file" id="cargoImg" accept="image/*" class="hidden">
                    </label>

                    <button type="submit" class="w-full bg-slate-800 text-white py-3 rounded-lg font-bold hover:bg-black transition uppercase text-sm tracking-wider">Consultar Asesor Experto</button>
                </form>
                <div id="advResponse" class="mt-4 p-4 bg-blue-50 rounded-lg text-xs italic border border-blue-100 min-h-[150px] text-gray-700 leading-relaxed">
                    Listo para asesorarle...
                </div>
            </section>
        </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
